# T4女胎异常检测分析 - 更新日志

## v1.4 (2024年最新版本)

### 🚀 主要功能
- **全新女胎筛选算法**: 多准则判断 + 聚类验证
- **高级特征工程**: 40个工程化特征，包含染色体交互、GC含量分析
- **多模型自动选择**: 逻辑回归、随机森林、梯度提升自动对比
- **双阈值策略**: F1优化 vs 召回优先
- **完整可解释性**: 特征重要性分析和决策透明

### 📊 性能提升
- ROC AUC: 78.2%
- F1优化: 精确率44.1%, 召回率51.7%, F1分数47.6%
- 召回优先: 精确率19.2%, 召回率86.2%, F1分数31.4%

### 🔧 技术改进
- **女胎筛选**: Y浓度 + ZY值 + ZX正常范围多准则判断
- **特征选择**: 互信息 + 方差分析自动选择26个关键特征
- **交叉验证**: StratifiedGroupKFold避免数据泄露
- **评分函数**: 自定义平衡评分 (0.6×F1 + 0.4×Recall)

### 🎯 核心发现
- **GC含量**是最关键的异常指标 (GC21、GC13、GC18权重最高)
- **孕周特征**显著影响检测精度
- **染色体交互特征**有效提升检测性能

### 📁 输出文件
- `best_model.joblib` - 最佳模型
- `comprehensive_metrics.json` - 性能指标
- `feature_importance.json` - 特征重要性
- `comprehensive_evaluation.png` - 可视化图表
- `test_predictions_detailed.csv` - 预测结果

### 🎪 应用场景
- **临床筛查**: 高敏感度初筛
- **确诊检测**: 平衡精度和敏感度
- **研究分析**: 特征重要性和机理解释

---

## v1.3 (基础版本)

### 基本功能
- 简单女胎筛选 (Y染色体浓度GMM聚类)
- 基础特征工程 (15个特征)
- 单一逻辑回归模型
- F1最优阈值选择

### 局限性
- 女胎筛选准确性有限
- 特征设计相对简单
- 缺乏模型对比和选择
- 可解释性不足

---

## 版本对比总结

| 特性 | v1.3 | v1.4 |
|------|------|------|
| 女胎筛选 | 单一Y浓度GMM | 多准则+聚类验证 |
| 特征数量 | 15个 | 40个(选择26个) |
| 模型选择 | 逻辑回归 | 多模型自动选择 |
| 阈值策略 | 单一F1优化 | 双阈值策略 |
| 可解释性 | 基础 | 完整分析 |
| 性能 | 一般 | 显著提升 |

v1.4版本在保持算法稳健性的同时，显著提升了检测精度和可解释性，更好地契合了题目要求。
